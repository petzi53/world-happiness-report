---
execute:
  cache: false
---

# Country Charts {#sec-04-country-charts}


```{r}
#| label: setup
#| results: hold
#| include: false

base::source(file = paste0(here::here(), "/R/helper.R"))

ggplot2::theme_set(ggplot2::theme_bw())
```

::::: {#obj-chapter-template}
:::: {.my-objectives}
::: {.my-objectives-header}
Objective of this chapter
:::

::: {.my-objectives-container}

I will display the yearly variations of the `r glossary("cantril ladder")` values for certain countries. My focus will be on German speaking countries (Austria, Germany, Switzerland) and on some major European countries.

:::
::::
:::::



:::::{.my-r-code}
:::{.my-r-code-header}
:::::: {#cnj-show-eval-european-countries}
: Evolution of life evaluation for Countries in Western Europe (2011-2024)
::::::
:::
::::{.my-r-code-container}
```{r}
#| label: show-eval-european-countries


base::readRDS("data/whr-cantril/rds/whr_final.rds") |>
      dplyr::filter(
        region23 == "Western Europe"
          ) |> 
  plotly::plot_ly(
    x = ~ year,
    y = ~ ladder_score,
    color = ~ country_whr,
    type = "scatter",
    mode = "lines+markers"
  ) |> 
  plotly::layout(
    title = "Ladder Score for West European Countries 2011-2024",
    legend = base::list(title = list(text = 'Country')),
    xaxis = base::list(title = "Year"), 
    yaxis = base::list(title = "Cantril Ladder Score")
    )

```
***

For Monaco and Lichtenstein are no data available.
::::
:::::

As I am especially interested in my native country the next graph will compare the three German speaking countries DACH = Germany (**D**eutschland), **A**ustria and Switzerland (Country iso2 code = **CH**))


:::::{.my-r-code}
:::{.my-r-code-header}
:::::: {#cnj-show-eval-DACH}
: Evolution of life evaluation for German speaking countries
::::::
:::
::::{.my-r-code-container}
```{r}
#| label: show-eval-DACH

base::readRDS("data/whr-cantril/rds/whr_final.rds") |> 
    dplyr::filter(
        country_whr == "Austria" |
        country_whr == "Germany" |
        country_whr == "Switzerland"
        ) |> 
    dplyr::filter(group48 == "World [WLD]") |> 

    plotly::plot_ly(
      x = ~ year,
      y = ~ ladder_score,
      color = ~ country_whr,
      type = "scatter",
      mode = "lines+markers"
    ) |> 
    plotly::layout(
      xaxis = base::list(title = "Year"), 
      yaxis = base::list(title = "Cantril Ladder Score")
      )

```

::::
:::::

## Glossary

```{r}
#| label: glossary-table
#| echo: false

glossary_table()
```

------------------------------------------------------------------------

## Session Info

::::: my-r-code
::: my-r-code-header
Session Info
:::

::: my-r-code-container
```{r}
#| label: session-info

sessioninfo::session_info()
```
:::
:::::


