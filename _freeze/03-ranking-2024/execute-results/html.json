{
  "hash": "7875a360a327b309875c09c0db1d6386",
  "result": {
    "engine": "knitr",
    "markdown": "---\nexecute:\n  cache: false\n---\n\n\n\n# Ranking 2024 {#sec-03-ranking-2024}\n\n\n\n\n\n\n\n\n::::: {#obj-chapter-template}\n:::: {.my-objectives}\n::: {.my-objectives-header}\nObjective of this chapter\n:::\n\n::: {.my-objectives-container}\nI will display the ranking data for the <a class='glossary' title='The Cantril Ladder is a visual scale used to assess general life satisfaction. It asks respondents to evaluate their lives on a ladder from worst (bottom) to best (top) possible life, making it a simple tool to measure subjective well-being. This measure has been widely used in various studies and surveys, including the Gallup World Poll, which collects data from over 140 countries annually.'>Cantril ladder</a> question of <a class='glossary' title='The World Happiness Reports are a partnership of Gallup, the Oxford Wellbeing Research Centre, the UN Sustainable Development Solutions Network, and the WHR’s Editorial Board. The report is produced under the editorial control of the WHR Editorial Board. The Reports reflects a worldwide demand for more attention to happiness and well-being as criteria for government policy. It reviews the state of happiness in the world today and shows how the science of happiness explains personal and national variations in happiness. (https://worldhappiness.report/about/)'>WHR</a>data 2024. In contrast to figure 2.1 of the World Happiness Report 2025 I will use a <a class='glossary' title='A lollipop plot is basically a barplot, where the bar is transformed in a line and a dot. It shows the relationship between a numeric and a categorical variable.'>lollipop plot</a> instead a bar plot. Additionally I will only show the value for the Cantril ladder without the breakdown into its causal components.\n\n:::\n::::\n:::::\n\n\n## Prepare data\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-03-prepare-data}\n: Prepare 2024 ranking data\n::::::\n:::\n::::{.my-r-code-container}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nwhr_final_2024 <- base::readRDS(\"data/whr-cantril/rds/whr_final.rds\") |> \n    dplyr::filter(year == 2024 & group48 == \"World [WLD]\") |> \n    dplyr::arrange(rank) |> \n    dplyr::mutate(`country` = \n        base::paste0(rank, \". \", `country_whr`, \" (\", `ladder_score`, \")\")\n        )\n\nmy_save_data_file(\n  \"whr-cantril/rds\", \n  whr_final_2024, \n  \"whr_final_2024.rds\")\n```\n:::\n\n\n\n<center>(*For this R code chunk is no output available*)</center>\n::::\n:::::\n\n## Cantril ladder ranking\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncantril_ranking <-  function(df) {\n    ggplot2::ggplot(df,\n                ggplot2::aes(\n                    x = forcats::fct_reorder(`country`, `ladder_score`) ,\n                    y = `ladder_score`\n                )) +\n    ggplot2::geom_segment(ggplot2::aes(\n        x = `country`,\n        xend = `country`,\n        y = 1,\n        yend = `ladder_score`\n    ), color = \"blue\") +\n    ggplot2::geom_point(color = \"darkblue\", size = 4) +\n    ggplot2::theme_light() +\n    ggplot2::theme(\n        panel.grid.major.x = ggplot2::element_blank(),\n        panel.border = ggplot2::element_blank(),\n        axis.ticks.x = ggplot2::element_blank(),\n        axis.text.y = ggplot2::element_text(size = 20, hjust = 0),\n        axis.text.x = ggplot2::element_text(size = 20),\n        axis.title.x = ggplot2::element_text(size = 20, face = 'bold')\n    ) +\n    ggplot2::coord_flip() +\n    ggplot2::xlab(\"\") +\n    ggplot2::ylab(\"Value of life evaluation (3 year average)\")\n}\n```\n:::\n\n\n\n\n::: {.my-code-collection}\n:::: {.my-code-collection-header}\n::::: {.my-code-collection-icon}\n:::::\n:::::: {#exm-03-show-ranking-2024}\n: Show value of Cantril ladder by rank\n::::::\n\n::::\n\n::::{.my-code-collection-container}\n\n::: {.panel-tabset}\n\n###### First part\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-03-show-ranking-2024-first-part}\n: Show value of Cantril ladder by rank (first part)\n::::::\n:::\n::::{.my-r-code-container}\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncantril_ranking(dplyr::slice(whr_final_2024, 1:50))\n```\n\n::: {.cell-output-display}\n![](03-ranking-2024_files/figure-html/show-ranking-2024-first-part-1.png){width=1152}\n:::\n:::\n\n\n\n::::\n:::::\n\n\n###### Middle part\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-show-ranking-2024-middle-part}\n: Show value of Cantril ladder by rank (middle part)\n::::::\n:::\n::::{.my-r-code-container}\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncantril_ranking(dplyr::slice(whr_final_2024, 51:100))\n```\n\n::: {.cell-output-display}\n![](03-ranking-2024_files/figure-html/show-ranking-2024-middle-part-1.png){width=1152}\n:::\n:::\n\n\n\n::::\n:::::\n\n\n###### Last part\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-show-ranking-2024-middle-part}\n: Show value of Cantril ladder by rank (last part)\n::::::\n:::\n::::{.my-r-code-container}\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncantril_ranking(dplyr::slice(whr_final_2024, 101:147))\n```\n\n::: {.cell-output-display}\n![](03-ranking-2024_files/figure-html/show-ranking-2024-last-part-1.png){width=1152}\n:::\n:::\n\n\n\n::::\n:::::\n\n###### All together\n\n:::::{.my-r-code}\n:::{.my-r-code-header}\n:::::: {#cnj-03-show-ranking-2024-all-together}\n: Show value of Cantril ladder by rank\n::::::\n:::\n::::{.my-r-code-container}\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncantril_ranking(whr_final_2024)\n```\n\n::: {.cell-output-display}\n![](03-ranking-2024_files/figure-html/show-ranking-2024-all-together-1.png){width=1152}\n:::\n:::\n\n\n\n::::\n:::::\n\n:::\n\n::::\n:::::\n\n\n\n\n## Glossary\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table\" style=\"margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> term </th>\n   <th style=\"text-align:left;\"> definition </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Cantril ladder </td>\n   <td style=\"text-align:left;\"> The Cantril Ladder is a visual scale used to assess general life satisfaction. It asks respondents to evaluate their lives on a ladder from worst (bottom) to best (top) possible life, making it a simple tool to measure subjective well-being. This measure has been widely used in various studies and surveys, including the Gallup World Poll, which collects data from over 140 countries annually. </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Lollipop plot </td>\n   <td style=\"text-align:left;\"> A lollipop plot is basically a barplot, where the bar is transformed in a line and a dot. It shows the relationship between a numeric and a categorical variable. </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> WHR </td>\n   <td style=\"text-align:left;\"> The World Happiness Reports are a partnership of Gallup, the Oxford Wellbeing Research Centre, the UN Sustainable Development Solutions Network, and the WHR’s Editorial Board. The report is produced under the editorial control of the WHR Editorial Board. The Reports reflects a worldwide demand for more attention to happiness and well-being as criteria for government policy. It reviews the state of happiness in the world today and shows how the science of happiness explains personal and national variations in happiness. (https://worldhappiness.report/about/) </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n\n------------------------------------------------------------------------\n\n## Session Info\n\n::::: my-r-code\n::: my-r-code-header\nSession Info\n:::\n\n::: my-r-code-container\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsessioninfo::session_info()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> ─ Session info ───────────────────────────────────────────────────────────────\n#>  setting  value\n#>  version  R version 4.4.3 (2025-02-28)\n#>  os       macOS Sequoia 15.3.2\n#>  system   aarch64, darwin20\n#>  ui       X11\n#>  language (EN)\n#>  collate  en_US.UTF-8\n#>  ctype    en_US.UTF-8\n#>  tz       Europe/Vienna\n#>  date     2025-04-15\n#>  pandoc   3.2 @ /Applications/RStudio.app/Contents/Resources/app/quarto/bin/tools/aarch64/ (via rmarkdown)\n#>  quarto   1.6.42 @ /usr/local/bin/quarto\n#> \n#> ─ Packages ───────────────────────────────────────────────────────────────────\n#>  package     * version date (UTC) lib source\n#>  cli           3.6.4   2025-02-13 [1] CRAN (R 4.4.1)\n#>  colorspace    2.1-1   2024-07-26 [1] CRAN (R 4.4.1)\n#>  commonmark    1.9.2   2024-10-04 [1] CRAN (R 4.4.1)\n#>  curl          6.2.1   2025-02-19 [1] CRAN (R 4.4.1)\n#>  digest        0.6.37  2024-08-19 [1] CRAN (R 4.4.1)\n#>  dplyr         1.1.4   2023-11-17 [1] CRAN (R 4.4.0)\n#>  evaluate      1.0.3   2025-01-10 [1] CRAN (R 4.4.1)\n#>  farver        2.1.2   2024-05-13 [1] CRAN (R 4.4.1)\n#>  fastmap       1.2.0   2024-05-15 [1] CRAN (R 4.4.1)\n#>  forcats       1.0.0   2023-01-29 [1] CRAN (R 4.4.0)\n#>  generics      0.1.3   2022-07-05 [1] CRAN (R 4.4.1)\n#>  ggplot2       3.5.1   2024-04-23 [1] CRAN (R 4.4.0)\n#>  glossary    * 1.0.0   2023-05-30 [1] CRAN (R 4.4.0)\n#>  glue          1.8.0   2024-09-30 [1] CRAN (R 4.4.1)\n#>  gtable        0.3.6   2024-10-25 [1] CRAN (R 4.4.1)\n#>  here          1.0.1   2020-12-13 [1] CRAN (R 4.4.1)\n#>  htmltools     0.5.8.1 2024-04-04 [1] CRAN (R 4.4.1)\n#>  htmlwidgets   1.6.4   2023-12-06 [1] CRAN (R 4.4.0)\n#>  jsonlite      1.9.1   2025-03-03 [1] CRAN (R 4.4.1)\n#>  kableExtra    1.4.0   2024-01-24 [1] CRAN (R 4.4.0)\n#>  knitr         1.49    2024-11-08 [1] CRAN (R 4.4.1)\n#>  labeling      0.4.3   2023-08-29 [1] CRAN (R 4.4.1)\n#>  lifecycle     1.0.4   2023-11-07 [1] CRAN (R 4.4.1)\n#>  magrittr      2.0.3   2022-03-30 [1] CRAN (R 4.4.1)\n#>  markdown      1.13    2024-06-04 [1] CRAN (R 4.4.1)\n#>  munsell       0.5.1   2024-04-01 [1] CRAN (R 4.4.1)\n#>  pillar        1.10.1  2025-01-07 [1] CRAN (R 4.4.1)\n#>  pkgconfig     2.0.3   2019-09-22 [1] CRAN (R 4.4.1)\n#>  R6            2.6.1   2025-02-15 [1] CRAN (R 4.4.1)\n#>  rlang         1.1.5   2025-01-17 [1] CRAN (R 4.4.1)\n#>  rmarkdown     2.29    2024-11-04 [1] CRAN (R 4.4.1)\n#>  rprojroot     2.0.4   2023-11-05 [1] CRAN (R 4.4.1)\n#>  rstudioapi    0.17.1  2024-10-22 [1] CRAN (R 4.4.1)\n#>  rversions     2.1.2   2022-08-31 [1] CRAN (R 4.4.1)\n#>  scales        1.3.0   2023-11-28 [1] CRAN (R 4.4.0)\n#>  sessioninfo   1.2.3   2025-02-05 [1] CRAN (R 4.4.1)\n#>  stringi       1.8.4   2024-05-06 [1] CRAN (R 4.4.1)\n#>  stringr       1.5.1   2023-11-14 [1] CRAN (R 4.4.0)\n#>  svglite       2.1.3   2023-12-08 [1] CRAN (R 4.4.0)\n#>  systemfonts   1.2.1   2025-01-20 [1] CRAN (R 4.4.1)\n#>  tibble        3.2.1   2023-03-20 [1] CRAN (R 4.4.0)\n#>  tidyselect    1.2.1   2024-03-11 [1] CRAN (R 4.4.0)\n#>  vctrs         0.6.5   2023-12-01 [1] CRAN (R 4.4.0)\n#>  viridisLite   0.4.2   2023-05-02 [1] CRAN (R 4.4.1)\n#>  withr         3.0.2   2024-10-28 [1] CRAN (R 4.4.1)\n#>  xfun          0.51    2025-02-19 [1] CRAN (R 4.4.1)\n#>  xml2          1.3.7   2025-02-28 [1] CRAN (R 4.4.1)\n#>  yaml          2.3.10  2024-07-26 [1] CRAN (R 4.4.1)\n#> \n#>  [1] /Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n#>  * ── Packages attached to the search path.\n#> \n#> ──────────────────────────────────────────────────────────────────────────────\n```\n\n\n:::\n:::\n\n\n:::\n:::::\n\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"site_libs/kePrint-0.0.1/kePrint.js\"></script>\n<link href=\"site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}